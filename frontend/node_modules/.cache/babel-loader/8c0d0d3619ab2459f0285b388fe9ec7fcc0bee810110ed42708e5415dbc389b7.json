{"ast":null,"code":"var _jsxFileName = \"D:\\\\Navikenz\\\\pro\\\\navihire\\\\frontend\\\\src\\\\components\\\\FlightSearch.tsx\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FlightSearch = () => {\n  _s();\n  var _results$;\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const handleSearch = async criteria => {\n    try {\n      var _response$data$;\n      setLoading(true);\n      const response = await axios.post('/api/flights', criteria);\n      if (response.status === 503 && (_response$data$ = response.data[0]) !== null && _response$data$ !== void 0 && _response$data$.redirect_url) {\n        window.open(response.data[0].redirect_url, '_blank');\n        setError('Redirecting to flight provider...');\n        return;\n      }\n      if (response.data.length === 0) {\n        setError('No flights found. Try adjusting your search.');\n        return;\n      }\n      setResults(response.data);\n    } catch (err) {\n      setError('Failed to fetch flights. Redirecting...');\n      setTimeout(() => {\n        window.open(`https://www.skyscanner.com/transport/flights/\n          ${criteria.origin}/${criteria.destination}/${criteria.date}`, '_blank');\n      }, 2000);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flight-search\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-alert\",\n      children: [error, ((_results$ = results[0]) === null || _results$ === void 0 ? void 0 : _results$.redirect_url) && /*#__PURE__*/_jsxDEV(\"a\", {\n        href: results[0].redirect_url,\n        target: \"_blank\",\n        children: \"View on Skyscanner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(SearchForm, {\n      onSubmit: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 18\n    }, this) : results.length > 0 ? /*#__PURE__*/_jsxDEV(ResultsList, {\n      results: results\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }, this) : !error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-results\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No direct flights found. Try:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Adjusting travel dates\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Searching nearby airports\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `https://www.skyscanner.com/transport/flights/\n                ${origin}/${destination}/${date}`,\n            target: \"_blank\",\n            children: \"View on Skyscanner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(FlightSearch, \"B1ruNB8j4rZNdiVSyDeDMC7VJNY=\");\n_c = FlightSearch;\nvar _c;\n$RefreshReg$(_c, \"FlightSearch\");","map":{"version":3,"names":["FlightSearch","_s","_results$","results","setResults","useState","loading","setLoading","error","setError","handleSearch","criteria","_response$data$","response","axios","post","status","data","redirect_url","window","open","length","err","setTimeout","origin","destination","date","_jsxDEV","className","children","href","target","fileName","_jsxFileName","lineNumber","columnNumber","SearchForm","onSubmit","Loader","ResultsList","_c","$RefreshReg$"],"sources":["D:/Navikenz/pro/navihire/frontend/src/components/FlightSearch.tsx"],"sourcesContent":["const FlightSearch = () => {\r\n  const [results, setResults] = useState<FlightResult[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSearch = async (criteria: SearchCriteria) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.post('/api/flights', criteria);\r\n      \r\n      if (response.status === 503 && response.data[0]?.redirect_url) {\r\n        window.open(response.data[0].redirect_url, '_blank');\r\n        setError('Redirecting to flight provider...');\r\n        return;\r\n      }\r\n\r\n      if (response.data.length === 0) {\r\n        setError('No flights found. Try adjusting your search.');\r\n        return;\r\n      }\r\n\r\n      setResults(response.data);\r\n    } catch (err) {\r\n      setError('Failed to fetch flights. Redirecting...');\r\n      setTimeout(() => {\r\n        window.open(`https://www.skyscanner.com/transport/flights/\r\n          ${criteria.origin}/${criteria.destination}/${criteria.date}`, '_blank');\r\n      }, 2000);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flight-search\">\r\n      {error && <div className=\"error-alert\">\r\n        {error} \r\n        {results[0]?.redirect_url && (\r\n          <a href={results[0].redirect_url} target=\"_blank\">\r\n            View on Skyscanner\r\n          </a>\r\n        )}\r\n      </div>}\r\n      \r\n      <SearchForm onSubmit={handleSearch} />\r\n      \r\n      {loading ? <Loader /> : (\r\n        results.length > 0 ? (\r\n          <ResultsList results={results} />\r\n        ) : !error && (\r\n          <div className=\"no-results\">\r\n            <p>No direct flights found. Try:</p>\r\n            <ul>\r\n              <li>Adjusting travel dates</li>\r\n              <li>Searching nearby airports</li>\r\n              <li><a href={`https://www.skyscanner.com/transport/flights/\r\n                ${origin}/${destination}/${date}`} target=\"_blank\">\r\n                View on Skyscanner\r\n              </a></li>\r\n            </ul>\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}