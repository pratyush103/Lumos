{"ast":null,"code":"import{useState,useEffect,useCallback}from'react';export const useWebSocket=url=>{const[socket,setSocket]=useState(null);const[isConnected,setIsConnected]=useState(false);const sendMessage=useCallback(message=>{if(socket&&socket.readyState===WebSocket.OPEN){socket.send(JSON.stringify({message}));}},[socket]);useEffect(()=>{const ws=new WebSocket(url);ws.onopen=()=>{setIsConnected(true);setSocket(ws);};ws.onclose=()=>{setIsConnected(false);setSocket(null);};ws.onerror=()=>{setIsConnected(false);};return()=>{ws.close();};},[url]);return{socket,isConnected,sendMessage};};","map":{"version":3,"names":["useState","useEffect","useCallback","useWebSocket","url","socket","setSocket","isConnected","setIsConnected","sendMessage","message","readyState","WebSocket","OPEN","send","JSON","stringify","ws","onopen","onclose","onerror","close"],"sources":["D:/Navikenz/pro/navihire/frontend/src/hooks/useWebSocket.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\n\r\nexport const useWebSocket = (url: string) => {\r\n  const [socket, setSocket] = useState<WebSocket | null>(null);\r\n  const [isConnected, setIsConnected] = useState(false);\r\n\r\n  const sendMessage = useCallback((message: string) => {\r\n    if (socket && socket.readyState === WebSocket.OPEN) {\r\n      socket.send(JSON.stringify({ message }));\r\n    }\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    const ws = new WebSocket(url);\r\n    \r\n    ws.onopen = () => {\r\n      setIsConnected(true);\r\n      setSocket(ws);\r\n    };\r\n    \r\n    ws.onclose = () => {\r\n      setIsConnected(false);\r\n      setSocket(null);\r\n    };\r\n    \r\n    ws.onerror = () => {\r\n      setIsConnected(false);\r\n    };\r\n\r\n    return () => {\r\n      ws.close();\r\n    };\r\n  }, [url]);\r\n\r\n  return { socket, isConnected, sendMessage };\r\n};\r\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAExD,MAAO,MAAM,CAAAC,YAAY,CAAIC,GAAW,EAAK,CAC3C,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGN,QAAQ,CAAmB,IAAI,CAAC,CAC5D,KAAM,CAACO,WAAW,CAAEC,cAAc,CAAC,CAAGR,QAAQ,CAAC,KAAK,CAAC,CAErD,KAAM,CAAAS,WAAW,CAAGP,WAAW,CAAEQ,OAAe,EAAK,CACnD,GAAIL,MAAM,EAAIA,MAAM,CAACM,UAAU,GAAKC,SAAS,CAACC,IAAI,CAAE,CAClDR,MAAM,CAACS,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC,CAAEN,OAAQ,CAAC,CAAC,CAAC,CAC1C,CACF,CAAC,CAAE,CAACL,MAAM,CAAC,CAAC,CAEZJ,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,EAAE,CAAG,GAAI,CAAAL,SAAS,CAACR,GAAG,CAAC,CAE7Ba,EAAE,CAACC,MAAM,CAAG,IAAM,CAChBV,cAAc,CAAC,IAAI,CAAC,CACpBF,SAAS,CAACW,EAAE,CAAC,CACf,CAAC,CAEDA,EAAE,CAACE,OAAO,CAAG,IAAM,CACjBX,cAAc,CAAC,KAAK,CAAC,CACrBF,SAAS,CAAC,IAAI,CAAC,CACjB,CAAC,CAEDW,EAAE,CAACG,OAAO,CAAG,IAAM,CACjBZ,cAAc,CAAC,KAAK,CAAC,CACvB,CAAC,CAED,MAAO,IAAM,CACXS,EAAE,CAACI,KAAK,CAAC,CAAC,CACZ,CAAC,CACH,CAAC,CAAE,CAACjB,GAAG,CAAC,CAAC,CAET,MAAO,CAAEC,MAAM,CAAEE,WAAW,CAAEE,WAAY,CAAC,CAC7C,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}