{"ast":null,"code":"import _objectSpread from\"C:/Users/piyus/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import api from\"../services/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EmailAutomation=_ref=>{var _templates$find2;let{socket,sendMessage,isConnected}=_ref;const[activeTab,setActiveTab]=useState(\"compose\");const[templates,setTemplates]=useState([]);const[signatures,setSignatures]=useState([]);const[addons,setAddons]=useState([]);const[loading,setLoading]=useState(false);// Compose Email State\nconst[composeForm,setComposeForm]=useState({type:\"single\",template_id:\"\",recipient_email:\"\",recipient_emails:\"\",subject:\"\",variables:{},send_immediately:true,scheduled_at:\"\"});// Template Form State\nconst[templateForm,setTemplateForm]=useState({name:\"\",category:\"general\",subject:\"\",body_html:\"\",is_system_template:false});// Signature Form State\nconst[signatureForm,setSignatureForm]=useState({name:\"\",html_content:\"\",company_logo_url:\"\",company_name:\"NaviKenz\",is_default:false});// Addon Form State\nconst[addonForm,setAddonForm]=useState({name:\"\",type:\"policy\",content:\"\",auto_include:false});const getDefaultTemplates=()=>[{name:\"Offer Letter\",category:\"offer_letter\",subject:\"Job Offer - {{job_title}} Position at {{company_name}}\",body_html:\"\\n        <h2>Congratulations {{candidate_name}}!</h2>\\n        <p>We are pleased to offer you the position of <strong>{{job_title}}</strong> at {{company_name}}.</p>\\n        <h3>Offer Details:</h3>\\n        <ul>\\n          <li>Position: {{job_title}}</li>\\n          <li>Department: {{department}}</li>\\n          <li>Start Date: {{start_date}}</li>\\n          <li>Salary: {{salary_amount}}</li>\\n          <li>Location: {{work_location}}</li>\\n        </ul>\\n        <p>Please confirm your acceptance by replying to this email by {{response_deadline}}.</p>\\n        <p>We look forward to welcoming you to our team!</p>\\n      \"},{name:\"Interview Invitation\",category:\"interview\",subject:\"Interview Invitation - {{job_title}} Position\",body_html:\"\\n        <h2>Interview Invitation</h2>\\n        <p>Dear {{candidate_name}},</p>\\n        <p>Thank you for your interest in the <strong>{{job_title}}</strong> position at {{company_name}}.</p>\\n        <h3>Interview Details:</h3>\\n        <ul>\\n          <li>Date: {{interview_date}}</li>\\n          <li>Time: {{interview_time}}</li>\\n          <li>Location: {{interview_location}}</li>\\n          <li>Interviewer: {{interviewer_name}}</li>\\n        </ul>\\n        <p>Please confirm your availability by replying to this email.</p>\\n        <p>Best regards,<br>{{company_name}} Team</p>\\n      \"}];const useDefaultTemplate=templateName=>{const defaultTemplates=getDefaultTemplates();const template=defaultTemplates.find(t=>t.name===templateName);if(template){setTemplateForm({name:template.name,category:template.category,subject:template.subject,body_html:template.body_html,is_system_template:false});}};useEffect(()=>{loadTemplates();loadSignatures();loadAddons();},[]);const loadTemplates=async()=>{try{console.log(\"Loading templates...\");// Debug log\nconst response=await api.get(\"/api/v1/emails/templates\");if(response.data.success){const loadedTemplates=response.data.templates||[];setTemplates(loadedTemplates);console.log(\"Templates loaded:\",loadedTemplates.length);// Debug log\n}else{console.error(\"Failed to load templates:\",response.data.error);setTemplates([]);}}catch(error){var _err$response;console.error(\"Error loading templates:\",error);setTemplates([]);const err=error;if(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===404){console.warn(\"Templates endpoint not found - using fallback\");}}};const loadSignatures=async()=>{try{const response=await api.get(\"/api/v1/emails/signatures\");setSignatures(response.data.signatures||[]);}catch(error){console.error(\"Error loading signatures:\",error);}};const loadAddons=async()=>{try{const response=await api.get(\"/api/v1/emails/addons\");setAddons(response.data.addons||[]);}catch(error){console.error(\"Error loading addons:\",error);}};const handleTemplateSelect=templateId=>{console.log(\"Template selected:\",templateId);// Debug log\nif(!templateId){// Reset form when no template selected\nsetComposeForm(prev=>_objectSpread(_objectSpread({},prev),{},{template_id:\"\",subject:\"\",variables:{}}));return;}const template=templates.find(t=>t.id.toString()===templateId);console.log(\"Found template:\",template);// Debug log\nif(template){// Extract variables from template content\nconst extractedVariables=extractTemplateVariables(template.body_html,template.subject);// Update form state with proper batching\nsetComposeForm(prev=>_objectSpread(_objectSpread({},prev),{},{template_id:templateId,subject:template.subject,variables:extractedVariables.reduce((acc,variable)=>{acc[variable]=\"\";return acc;},{})}));console.log(\"Form updated with template:\",templateId);}};const extractTemplateVariables=(bodyHtml,subject)=>{const combinedContent=\"\".concat(bodyHtml,\" \").concat(subject);const variableRegex=/\\{\\{(\\w+)\\}\\}/g;const variables=[];let match;while((match=variableRegex.exec(combinedContent))!==null){if(!variables.includes(match[1])){variables.push(match[1]);}}return variables;};const handleSendEmail=async()=>{if(!composeForm.template_id){alert(\"Please select a template\");return;}if(composeForm.type===\"single\"&&!composeForm.recipient_email){alert(\"Please enter recipient email\");return;}if(composeForm.type===\"bulk\"&&!composeForm.recipient_emails){alert(\"Please enter recipient emails\");return;}setLoading(true);try{let endpoint=\"/api/v1/emails/send\";let payload={template_id:composeForm.template_id,variables:composeForm.variables,send_immediately:composeForm.send_immediately,scheduled_at:composeForm.scheduled_at};if(composeForm.type===\"single\"){payload.recipient_email=composeForm.recipient_email;}else{endpoint=\"/api/v1/emails/send-bulk\";payload.name=\"Campaign \".concat(new Date().toLocaleString());payload.recipient_type=composeForm.type;if(composeForm.type===\"bulk\"){payload.recipient_data=composeForm.recipient_emails.split(\",\").map(email=>email.trim());}}const response=await api.post(endpoint,payload);if(response.data.success){alert(composeForm.type===\"single\"?\"Email sent successfully!\":\"Bulk email sent to \".concat(response.data.sent_count,\" recipients\"));setComposeForm({type:\"single\",template_id:\"\",recipient_email:\"\",recipient_emails:\"\",subject:\"\",variables:{},send_immediately:true,scheduled_at:\"\"});if(sendMessage&&isConnected){var _templates$find;sendMessage(\"Sent \".concat(composeForm.type,\" email using template: \").concat((_templates$find=templates.find(t=>t.id.toString()===composeForm.template_id))===null||_templates$find===void 0?void 0:_templates$find.name));}}}catch(error){console.error(\"Error sending email:\",error);alert(\"Failed to send email\");}finally{setLoading(false);}};const handleCreateTemplate=async()=>{if(!templateForm.name||!templateForm.subject||!templateForm.body_html){alert(\"Please fill in all required fields\");return;}setLoading(true);try{// Extract variables before sending to backend\nconst extractedVariables=extractTemplateVariables(templateForm.body_html,templateForm.subject);const templateData=_objectSpread(_objectSpread({},templateForm),{},{variables:extractedVariables});console.log(\"Creating template with data:\",templateData);// Debug log\nconst response=await api.post(\"/api/v1/emails/templates\",templateData);if(response.data.success){alert(\"Email template created successfully\");// Reset form\nsetTemplateForm({name:\"\",category:\"general\",subject:\"\",body_html:\"\",is_system_template:false});// Reload templates to include the new one\nawait loadTemplates();console.log(\"Template created and templates reloaded\");// Debug log\n}else{throw new Error(response.data.error||\"Failed to create template\");}}catch(error){console.error(\"Error creating template:\",error);alert(\"Failed to create template: \".concat(error));}finally{setLoading(false);}};const handleCreateSignature=async()=>{if(!signatureForm.name||!signatureForm.html_content){alert(\"Please fill in required fields\");return;}setLoading(true);try{const response=await api.post(\"/api/v1/emails/signatures\",signatureForm);if(response.data.success){alert(\"Email signature created successfully\");setSignatureForm({name:\"\",html_content:\"\",company_logo_url:\"\",company_name:\"NaviKenz\",is_default:false});loadSignatures();}}catch(error){console.error(\"Error creating signature:\",error);alert(\"Failed to create signature\");}finally{setLoading(false);}};const handleCreateAddon=async()=>{if(!addonForm.name||!addonForm.content){alert(\"Please fill in required fields\");return;}setLoading(true);try{const response=await api.post(\"/api/v1/emails/addons\",addonForm);if(response.data.success){alert(\"Email addon created successfully\");setAddonForm({name:\"\",type:\"policy\",content:\"\",auto_include:false});loadAddons();}}catch(error){console.error(\"Error creating addon:\",error);alert(\"Failed to create addon\");}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"email-automation\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDCE7 Email Automation\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Streamline your recruitment communication with smart email templates and bulk sending\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-navigation\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab===\"compose\"?\"active\":\"\"),onClick:()=>setActiveTab(\"compose\"),children:\"\\u2709\\uFE0F Compose Email\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab===\"templates\"?\"active\":\"\"),onClick:()=>setActiveTab(\"templates\"),children:\"\\uD83D\\uDCDD Templates\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab===\"signatures\"?\"active\":\"\"),onClick:()=>setActiveTab(\"signatures\"),children:\"\\u270D\\uFE0F Signatures\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab===\"addons\"?\"active\":\"\"),onClick:()=>setActiveTab(\"addons\"),children:\"\\uD83D\\uDD27 Add-ons\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab===\"history\"?\"active\":\"\"),onClick:()=>setActiveTab(\"history\"),children:\"\\uD83D\\uDCCA History\"})]}),activeTab===\"compose\"&&/*#__PURE__*/_jsx(\"div\",{className:\"tab-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"compose-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCE4 Send Email\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:composeForm.type,onChange:e=>setComposeForm(_objectSpread(_objectSpread({},composeForm),{},{type:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"single\",children:\"Single Recipient\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bulk\",children:\"Bulk Email\"}),/*#__PURE__*/_jsx(\"option\",{value:\"filtered\",children:\"Filtered Recipients\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Template *\"}),/*#__PURE__*/_jsxs(\"select\",{value:composeForm.template_id,onChange:e=>{console.log(\"Template dropdown changed:\",e.target.value);// Debug log\nhandleTemplateSelect(e.target.value);},className:\"form-control \".concat(!composeForm.template_id?\"placeholder-shown\":\"\"),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a template\"}),templates.map(template=>/*#__PURE__*/_jsxs(\"option\",{value:template.id.toString(),children:[template.name,\" (\",template.category,\")\"]},template.id))]}),templates.length===0&&/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"No templates available. Create one in the Templates tab first.\"}),composeForm.template_id&&/*#__PURE__*/_jsxs(\"small\",{className:\"text-success\",children:[\"Template selected:\",\" \",(_templates$find2=templates.find(t=>t.id.toString()===composeForm.template_id))===null||_templates$find2===void 0?void 0:_templates$find2.name]})]})]}),composeForm.type===\"single\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Recipient Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"candidate@example.com\",value:composeForm.recipient_email,onChange:e=>setComposeForm(_objectSpread(_objectSpread({},composeForm),{},{recipient_email:e.target.value}))})]}),composeForm.type===\"bulk\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Recipient Emails *\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Enter emails separated by commas or new lines\",value:composeForm.recipient_emails,onChange:e=>setComposeForm(_objectSpread(_objectSpread({},composeForm),{},{recipient_emails:e.target.value})),rows:4}),/*#__PURE__*/_jsx(\"small\",{children:\"Separate multiple emails with commas or line breaks\"})]}),composeForm.template_id&&/*#__PURE__*/_jsxs(\"div\",{className:\"template-preview-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCCB Template Preview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"preview-subject\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Subject:\"}),\" \",composeForm.subject]}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview-variables\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Variables to fill:\"}),Object.keys(composeForm.variables).length>0?/*#__PURE__*/_jsx(\"ul\",{children:Object.keys(composeForm.variables).map(variable=>/*#__PURE__*/_jsxs(\"li\",{children:[\"{{\".concat(variable,\"}}\"),\" -\",\" \",composeForm.variables[variable]||\"Not filled\"]},variable))}):/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"No variables in this template\"})]})]})]}),Object.keys(composeForm.variables).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"variables-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCDD Template Variables\"}),/*#__PURE__*/_jsx(\"div\",{className:\"variables-grid\",children:Object.keys(composeForm.variables).map(variable=>/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:variable.replace(/_/g,\" \").replace(/\\b\\w/g,l=>l.toUpperCase())}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter \".concat(variable),value:composeForm.variables[variable],onChange:e=>setComposeForm(_objectSpread(_objectSpread({},composeForm),{},{variables:_objectSpread(_objectSpread({},composeForm.variables),{},{[variable]:e.target.value})}))})]},variable))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:composeForm.send_immediately,onChange:e=>setComposeForm(_objectSpread(_objectSpread({},composeForm),{},{send_immediately:e.target.checked}))}),\"Send Immediately\"]})}),!composeForm.send_immediately&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Schedule For\"}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:composeForm.scheduled_at,onChange:e=>setComposeForm(_objectSpread(_objectSpread({},composeForm),{},{scheduled_at:e.target.value})),min:new Date().toISOString().slice(0,16)})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:handleSendEmail,disabled:loading,children:loading?\"Sending...\":composeForm.type===\"single\"?\"üì§ Send Email\":\"üì§ Send Bulk Email\"})]})}),activeTab===\"templates\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quick-start-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDE80 Quick Start Templates\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Use these pre-built templates to get started quickly:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"default-templates-grid\",children:getDefaultTemplates().map((template,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"default-template-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:template.name}),/*#__PURE__*/_jsx(\"span\",{className:\"category-badge\",children:template.category}),/*#__PURE__*/_jsx(\"p\",{children:template.subject}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-small\",onClick:()=>useDefaultTemplate(template.name),children:\"Use Template\"})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"template-creation\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCDD Create Custom Template\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Template Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"e.g., Welcome Email\",value:templateForm.name,onChange:e=>setTemplateForm(_objectSpread(_objectSpread({},templateForm),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{value:templateForm.category,onChange:e=>setTemplateForm(_objectSpread(_objectSpread({},templateForm),{},{category:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"general\",children:\"General\"}),/*#__PURE__*/_jsx(\"option\",{value:\"onboarding\",children:\"Onboarding\"}),/*#__PURE__*/_jsx(\"option\",{value:\"offer_letter\",children:\"Offer Letter\"}),/*#__PURE__*/_jsx(\"option\",{value:\"interview\",children:\"Interview\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rejection\",children:\"Rejection\"}),/*#__PURE__*/_jsx(\"option\",{value:\"follow_up\",children:\"Follow Up\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group full-width\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Subject Line *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Welcome to {{company_name}} - {{candidate_name}}\",value:templateForm.subject,onChange:e=>setTemplateForm(_objectSpread(_objectSpread({},templateForm),{},{subject:e.target.value}))}),/*#__PURE__*/_jsxs(\"small\",{children:[\"Use \",\"{{variable_name}}\",\" for dynamic content\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group full-width\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email Body (HTML) *\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"<h2>Welcome {{candidate_name}}!</h2><p>We're excited to have you join {{company_name}}...</p>\",value:templateForm.body_html,onChange:e=>setTemplateForm(_objectSpread(_objectSpread({},templateForm),{},{body_html:e.target.value})),rows:10}),/*#__PURE__*/_jsxs(\"small\",{children:[\"HTML formatting supported. Use \",\"{{variable_name}}\",\" for personalization\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:handleCreateTemplate,disabled:loading,children:loading?\"Creating...\":\"üìù Create Template\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"existing-templates\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCB Existing Templates\"}),/*#__PURE__*/_jsx(\"div\",{className:\"templates-grid\",children:templates.map(template=>/*#__PURE__*/_jsxs(\"div\",{className:\"template-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"template-header\",children:[/*#__PURE__*/_jsx(\"h4\",{children:template.name}),/*#__PURE__*/_jsx(\"span\",{className:\"category-badge \".concat(template.category),children:template.category.replace(\"_\",\" \")})]}),/*#__PURE__*/_jsx(\"p\",{className:\"template-subject\",children:template.subject}),/*#__PURE__*/_jsxs(\"div\",{className:\"template-stats\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Used \",template.usage_count,\" times\"]}),template.is_system_template&&/*#__PURE__*/_jsx(\"span\",{className:\"system-badge\",children:\"System\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"template-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-small\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-small\",children:\"Preview\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-small\",children:\"Duplicate\"})]})]},template.id))})]})]}),activeTab===\"signatures\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signature-creation\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u270D\\uFE0F Create Email Signature\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Signature Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"e.g., HR Team Signature\",value:signatureForm.name,onChange:e=>setSignatureForm(_objectSpread(_objectSpread({},signatureForm),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Company Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:signatureForm.company_name,onChange:e=>setSignatureForm(_objectSpread(_objectSpread({},signatureForm),{},{company_name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Company Logo URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",placeholder:\"https://company.com/logo.png\",value:signatureForm.company_logo_url,onChange:e=>setSignatureForm(_objectSpread(_objectSpread({},signatureForm),{},{company_logo_url:e.target.value}))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:signatureForm.is_default,onChange:e=>setSignatureForm(_objectSpread(_objectSpread({},signatureForm),{},{is_default:e.target.checked}))}),\"Set as Default Signature\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group full-width\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Signature HTML *\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"<p>Best regards,<br><strong>HR Team</strong><br>NaviKenz<br>Email: hr@navikenz.com</p>\",value:signatureForm.html_content,onChange:e=>setSignatureForm(_objectSpread(_objectSpread({},signatureForm),{},{html_content:e.target.value})),rows:6})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:handleCreateSignature,disabled:loading,children:loading?\"Creating...\":\"‚úçÔ∏è Create Signature\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"existing-signatures\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCDD Existing Signatures\"}),/*#__PURE__*/_jsx(\"div\",{className:\"signatures-list\",children:signatures.map(signature=>/*#__PURE__*/_jsxs(\"div\",{className:\"signature-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signature-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:signature.name}),signature.is_default&&/*#__PURE__*/_jsx(\"span\",{className:\"default-badge\",children:\"Default\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"signature-preview\",dangerouslySetInnerHTML:{__html:signature.html_content}}),/*#__PURE__*/_jsxs(\"div\",{className:\"signature-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-small\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-small\",children:\"Set Default\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-small\",children:\"Delete\"})]})]},signature.id))})]})]}),activeTab===\"addons\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"addon-creation\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDD27 Create Email Add-on\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Add-on Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"e.g., Company Policy\",value:addonForm.name,onChange:e=>setAddonForm(_objectSpread(_objectSpread({},addonForm),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:addonForm.type,onChange:e=>setAddonForm(_objectSpread(_objectSpread({},addonForm),{},{type:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"policy\",children:\"Company Policy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"terms\",children:\"Terms & Conditions\"}),/*#__PURE__*/_jsx(\"option\",{value:\"disclaimer\",children:\"Disclaimer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"social_links\",children:\"Social Links\"}),/*#__PURE__*/_jsx(\"option\",{value:\"contact_info\",children:\"Contact Information\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:addonForm.auto_include,onChange:e=>setAddonForm(_objectSpread(_objectSpread({},addonForm),{},{auto_include:e.target.checked}))}),\"Auto-include in all emails\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group full-width\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Content *\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"This email is confidential and intended only for the recipient...\",value:addonForm.content,onChange:e=>setAddonForm(_objectSpread(_objectSpread({},addonForm),{},{content:e.target.value})),rows:6})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:handleCreateAddon,disabled:loading,children:loading?\"Creating...\":\"üîß Create Add-on\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"existing-addons\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDD27 Existing Add-ons\"}),/*#__PURE__*/_jsx(\"div\",{className:\"addons-list\",children:addons.map(addon=>/*#__PURE__*/_jsxs(\"div\",{className:\"addon-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"addon-header\",children:[/*#__PURE__*/_jsx(\"h4\",{children:addon.name}),/*#__PURE__*/_jsx(\"span\",{className:\"type-badge \".concat(addon.type),children:addon.type.replace(\"_\",\" \")}),addon.auto_include&&/*#__PURE__*/_jsx(\"span\",{className:\"auto-badge\",children:\"Auto-include\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"addon-content\",children:[addon.content.substring(0,100),\"...\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addon-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-small\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-small\",children:\"Toggle Auto\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-small\",children:\"Delete\"})]})]},addon.id))})]})]}),activeTab===\"history\"&&/*#__PURE__*/_jsx(\"div\",{className:\"tab-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"email-history\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCA Email Campaign History\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"history-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Total Campaigns\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:\"24\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Emails Sent\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:\"1,247\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Success Rate\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:\"98.5%\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Open Rate\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:\"67.2%\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"history-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Campaign\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Template\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Recipients\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Sent\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Failed\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Welcome Campaign\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Onboarding Welcome\"}),/*#__PURE__*/_jsx(\"td\",{children:\"45\"}),/*#__PURE__*/_jsx(\"td\",{children:\"44\"}),/*#__PURE__*/_jsx(\"td\",{children:\"1\"}),/*#__PURE__*/_jsx(\"td\",{children:\"2025-06-15\"}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-small\",children:\"View\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-small\",children:\"Resend\"})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Interview Invitations\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Interview Invitation\"}),/*#__PURE__*/_jsx(\"td\",{children:\"12\"}),/*#__PURE__*/_jsx(\"td\",{children:\"12\"}),/*#__PURE__*/_jsx(\"td\",{children:\"0\"}),/*#__PURE__*/_jsx(\"td\",{children:\"2025-06-14\"}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-small\",children:\"View\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-small\",children:\"Resend\"})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Offer Letters\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Offer Letter\"}),/*#__PURE__*/_jsx(\"td\",{children:\"3\"}),/*#__PURE__*/_jsx(\"td\",{children:\"3\"}),/*#__PURE__*/_jsx(\"td\",{children:\"0\"}),/*#__PURE__*/_jsx(\"td\",{children:\"2025-06-13\"}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-small\",children:\"View\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-small\",children:\"Resend\"})]})]})]})]})})]})})]});};export default EmailAutomation;","map":{"version":3,"names":["React","useState","useEffect","api","jsx","_jsx","jsxs","_jsxs","EmailAutomation","_ref","_templates$find2","socket","sendMessage","isConnected","activeTab","setActiveTab","templates","setTemplates","signatures","setSignatures","addons","setAddons","loading","setLoading","composeForm","setComposeForm","type","template_id","recipient_email","recipient_emails","subject","variables","send_immediately","scheduled_at","templateForm","setTemplateForm","name","category","body_html","is_system_template","signatureForm","setSignatureForm","html_content","company_logo_url","company_name","is_default","addonForm","setAddonForm","content","auto_include","getDefaultTemplates","useDefaultTemplate","templateName","defaultTemplates","template","find","t","loadTemplates","loadSignatures","loadAddons","console","log","response","get","data","success","loadedTemplates","length","error","_err$response","err","status","warn","handleTemplateSelect","templateId","prev","_objectSpread","id","toString","extractedVariables","extractTemplateVariables","reduce","acc","variable","bodyHtml","combinedContent","concat","variableRegex","match","exec","includes","push","handleSendEmail","alert","endpoint","payload","Date","toLocaleString","recipient_type","recipient_data","split","map","email","trim","post","sent_count","_templates$find","handleCreateTemplate","templateData","Error","handleCreateSignature","handleCreateAddon","className","children","onClick","value","onChange","e","target","placeholder","rows","Object","keys","replace","l","toUpperCase","checked","min","toISOString","slice","disabled","index","usage_count","signature","dangerouslySetInnerHTML","__html","addon","substring"],"sources":["D:/Navikenz/pro/navihire/frontend/src/components/EmailAutomation.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport api from \"../services/api\";\r\nimport { AxiosError } from \"axios\";\r\n\r\ninterface EmailTemplate {\r\n  id: number;\r\n  name: string;\r\n  category: string;\r\n  subject: string;\r\n  body_html: string;\r\n  variables: string[];\r\n  usage_count: number;\r\n  is_system_template: boolean;\r\n}\r\n\r\ninterface EmailSignature {\r\n  id: number;\r\n  name: string;\r\n  html_content: string;\r\n  company_logo_url: string;\r\n  company_name: string;\r\n  is_default: boolean;\r\n}\r\n\r\ninterface EmailAddon {\r\n  id: number;\r\n  name: string;\r\n  type: string;\r\n  content: string;\r\n  auto_include: boolean;\r\n}\r\n\r\ninterface EmailAutomationProps {\r\n  socket?: WebSocket | null;\r\n  sendMessage?: (message: string) => void;\r\n  isConnected?: boolean;\r\n}\r\n\r\nconst EmailAutomation: React.FC<EmailAutomationProps> = ({\r\n  socket,\r\n  sendMessage,\r\n  isConnected,\r\n}) => {\r\n  const [activeTab, setActiveTab] = useState<\r\n    \"compose\" | \"templates\" | \"signatures\" | \"addons\" | \"history\"\r\n  >(\"compose\");\r\n  const [templates, setTemplates] = useState<EmailTemplate[]>([]);\r\n  const [signatures, setSignatures] = useState<EmailSignature[]>([]);\r\n  const [addons, setAddons] = useState<EmailAddon[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Compose Email State\r\n  const [composeForm, setComposeForm] = useState({\r\n    type: \"single\",\r\n    template_id: \"\",\r\n    recipient_email: \"\",\r\n    recipient_emails: \"\",\r\n    subject: \"\",\r\n    variables: {} as Record<string, string>,\r\n    send_immediately: true,\r\n    scheduled_at: \"\",\r\n  });\r\n\r\n  // Template Form State\r\n  const [templateForm, setTemplateForm] = useState({\r\n    name: \"\",\r\n    category: \"general\",\r\n    subject: \"\",\r\n    body_html: \"\",\r\n    is_system_template: false,\r\n  });\r\n\r\n  // Signature Form State\r\n  const [signatureForm, setSignatureForm] = useState({\r\n    name: \"\",\r\n    html_content: \"\",\r\n    company_logo_url: \"\",\r\n    company_name: \"NaviKenz\",\r\n    is_default: false,\r\n  });\r\n\r\n  // Addon Form State\r\n  const [addonForm, setAddonForm] = useState({\r\n    name: \"\",\r\n    type: \"policy\",\r\n    content: \"\",\r\n    auto_include: false,\r\n  });\r\n\r\n  const getDefaultTemplates = () => [\r\n    {\r\n      name: \"Offer Letter\",\r\n      category: \"offer_letter\",\r\n      subject: \"Job Offer - {{job_title}} Position at {{company_name}}\",\r\n      body_html: `\r\n        <h2>Congratulations {{candidate_name}}!</h2>\r\n        <p>We are pleased to offer you the position of <strong>{{job_title}}</strong> at {{company_name}}.</p>\r\n        <h3>Offer Details:</h3>\r\n        <ul>\r\n          <li>Position: {{job_title}}</li>\r\n          <li>Department: {{department}}</li>\r\n          <li>Start Date: {{start_date}}</li>\r\n          <li>Salary: {{salary_amount}}</li>\r\n          <li>Location: {{work_location}}</li>\r\n        </ul>\r\n        <p>Please confirm your acceptance by replying to this email by {{response_deadline}}.</p>\r\n        <p>We look forward to welcoming you to our team!</p>\r\n      `,\r\n    },\r\n    {\r\n      name: \"Interview Invitation\",\r\n      category: \"interview\",\r\n      subject: \"Interview Invitation - {{job_title}} Position\",\r\n      body_html: `\r\n        <h2>Interview Invitation</h2>\r\n        <p>Dear {{candidate_name}},</p>\r\n        <p>Thank you for your interest in the <strong>{{job_title}}</strong> position at {{company_name}}.</p>\r\n        <h3>Interview Details:</h3>\r\n        <ul>\r\n          <li>Date: {{interview_date}}</li>\r\n          <li>Time: {{interview_time}}</li>\r\n          <li>Location: {{interview_location}}</li>\r\n          <li>Interviewer: {{interviewer_name}}</li>\r\n        </ul>\r\n        <p>Please confirm your availability by replying to this email.</p>\r\n        <p>Best regards,<br>{{company_name}} Team</p>\r\n      `,\r\n    },\r\n  ];\r\n\r\n  const useDefaultTemplate = (templateName: string) => {\r\n    const defaultTemplates = getDefaultTemplates();\r\n    const template = defaultTemplates.find((t) => t.name === templateName);\r\n\r\n    if (template) {\r\n      setTemplateForm({\r\n        name: template.name,\r\n        category: template.category,\r\n        subject: template.subject,\r\n        body_html: template.body_html,\r\n        is_system_template: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadTemplates();\r\n    loadSignatures();\r\n    loadAddons();\r\n  }, []);\r\n\r\n  const loadTemplates = async () => {\r\n    try {\r\n      console.log(\"Loading templates...\"); // Debug log\r\n\r\n      const response = await api.get(\"/api/v1/emails/templates\");\r\n\r\n      if (response.data.success) {\r\n        const loadedTemplates = response.data.templates || [];\r\n        setTemplates(loadedTemplates);\r\n        console.log(\"Templates loaded:\", loadedTemplates.length); // Debug log\r\n      } else {\r\n        console.error(\"Failed to load templates:\", response.data.error);\r\n        setTemplates([]);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading templates:\", error);\r\n      setTemplates([]);\r\n\r\n      const err = error as AxiosError;\r\n      if (err.response?.status === 404) {\r\n        console.warn(\"Templates endpoint not found - using fallback\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const loadSignatures = async () => {\r\n    try {\r\n      const response = await api.get(\"/api/v1/emails/signatures\");\r\n      setSignatures(response.data.signatures || []);\r\n    } catch (error) {\r\n      console.error(\"Error loading signatures:\", error);\r\n    }\r\n  };\r\n\r\n  const loadAddons = async () => {\r\n    try {\r\n      const response = await api.get(\"/api/v1/emails/addons\");\r\n      setAddons(response.data.addons || []);\r\n    } catch (error) {\r\n      console.error(\"Error loading addons:\", error);\r\n    }\r\n  };\r\n\r\n  const handleTemplateSelect = (templateId: string) => {\r\n    console.log(\"Template selected:\", templateId); // Debug log\r\n\r\n    if (!templateId) {\r\n      // Reset form when no template selected\r\n      setComposeForm((prev) => ({\r\n        ...prev,\r\n        template_id: \"\",\r\n        subject: \"\",\r\n        variables: {},\r\n      }));\r\n      return;\r\n    }\r\n\r\n    const template = templates.find((t) => t.id.toString() === templateId);\r\n    console.log(\"Found template:\", template); // Debug log\r\n\r\n    if (template) {\r\n      // Extract variables from template content\r\n      const extractedVariables = extractTemplateVariables(\r\n        template.body_html,\r\n        template.subject\r\n      );\r\n\r\n      // Update form state with proper batching\r\n      setComposeForm((prev) => ({\r\n        ...prev,\r\n        template_id: templateId,\r\n        subject: template.subject,\r\n        variables: extractedVariables.reduce((acc, variable) => {\r\n          acc[variable] = \"\";\r\n          return acc;\r\n        }, {} as Record<string, string>),\r\n      }));\r\n\r\n      console.log(\"Form updated with template:\", templateId);\r\n    }\r\n  };\r\n\r\n  const extractTemplateVariables = (\r\n    bodyHtml: string,\r\n    subject: string\r\n  ): string[] => {\r\n    const combinedContent = `${bodyHtml} ${subject}`;\r\n    const variableRegex = /\\{\\{(\\w+)\\}\\}/g;\r\n    const variables: string[] = [];\r\n    let match;\r\n\r\n    while ((match = variableRegex.exec(combinedContent)) !== null) {\r\n      if (!variables.includes(match[1])) {\r\n        variables.push(match[1]);\r\n      }\r\n    }\r\n\r\n    return variables;\r\n  };\r\n\r\n  const handleSendEmail = async () => {\r\n    if (!composeForm.template_id) {\r\n      alert(\"Please select a template\");\r\n      return;\r\n    }\r\n\r\n    if (composeForm.type === \"single\" && !composeForm.recipient_email) {\r\n      alert(\"Please enter recipient email\");\r\n      return;\r\n    }\r\n\r\n    if (composeForm.type === \"bulk\" && !composeForm.recipient_emails) {\r\n      alert(\"Please enter recipient emails\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      let endpoint = \"/api/v1/emails/send\";\r\n      let payload: any = {\r\n        template_id: composeForm.template_id,\r\n        variables: composeForm.variables,\r\n        send_immediately: composeForm.send_immediately,\r\n        scheduled_at: composeForm.scheduled_at,\r\n      };\r\n\r\n      if (composeForm.type === \"single\") {\r\n        payload.recipient_email = composeForm.recipient_email;\r\n      } else {\r\n        endpoint = \"/api/v1/emails/send-bulk\";\r\n        payload.name = `Campaign ${new Date().toLocaleString()}`;\r\n        payload.recipient_type = composeForm.type;\r\n\r\n        if (composeForm.type === \"bulk\") {\r\n          payload.recipient_data = composeForm.recipient_emails\r\n            .split(\",\")\r\n            .map((email) => email.trim());\r\n        }\r\n      }\r\n\r\n      const response = await api.post(endpoint, payload);\r\n\r\n      if (response.data.success) {\r\n        alert(\r\n          composeForm.type === \"single\"\r\n            ? \"Email sent successfully!\"\r\n            : `Bulk email sent to ${response.data.sent_count} recipients`\r\n        );\r\n\r\n        setComposeForm({\r\n          type: \"single\",\r\n          template_id: \"\",\r\n          recipient_email: \"\",\r\n          recipient_emails: \"\",\r\n          subject: \"\",\r\n          variables: {},\r\n          send_immediately: true,\r\n          scheduled_at: \"\",\r\n        });\r\n\r\n        if (sendMessage && isConnected) {\r\n          sendMessage(\r\n            `Sent ${composeForm.type} email using template: ${\r\n              templates.find((t) => t.id.toString() === composeForm.template_id)\r\n                ?.name\r\n            }`\r\n          );\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error sending email:\", error);\r\n      alert(\"Failed to send email\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateTemplate = async () => {\r\n    if (\r\n      !templateForm.name ||\r\n      !templateForm.subject ||\r\n      !templateForm.body_html\r\n    ) {\r\n      alert(\"Please fill in all required fields\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      // Extract variables before sending to backend\r\n      const extractedVariables = extractTemplateVariables(\r\n        templateForm.body_html,\r\n        templateForm.subject\r\n      );\r\n\r\n      const templateData = {\r\n        ...templateForm,\r\n        variables: extractedVariables,\r\n      };\r\n\r\n      console.log(\"Creating template with data:\", templateData); // Debug log\r\n\r\n      const response = await api.post(\"/api/v1/emails/templates\", templateData);\r\n\r\n      if (response.data.success) {\r\n        alert(\"Email template created successfully\");\r\n\r\n        // Reset form\r\n        setTemplateForm({\r\n          name: \"\",\r\n          category: \"general\",\r\n          subject: \"\",\r\n          body_html: \"\",\r\n          is_system_template: false,\r\n        });\r\n\r\n        // Reload templates to include the new one\r\n        await loadTemplates();\r\n\r\n        console.log(\"Template created and templates reloaded\"); // Debug log\r\n      } else {\r\n        throw new Error(response.data.error || \"Failed to create template\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error creating template:\", error);\r\n      alert(`Failed to create template: ${error}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateSignature = async () => {\r\n    if (!signatureForm.name || !signatureForm.html_content) {\r\n      alert(\"Please fill in required fields\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.post(\r\n        \"/api/v1/emails/signatures\",\r\n        signatureForm\r\n      );\r\n\r\n      if (response.data.success) {\r\n        alert(\"Email signature created successfully\");\r\n        setSignatureForm({\r\n          name: \"\",\r\n          html_content: \"\",\r\n          company_logo_url: \"\",\r\n          company_name: \"NaviKenz\",\r\n          is_default: false,\r\n        });\r\n        loadSignatures();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error creating signature:\", error);\r\n      alert(\"Failed to create signature\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateAddon = async () => {\r\n    if (!addonForm.name || !addonForm.content) {\r\n      alert(\"Please fill in required fields\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.post(\"/api/v1/emails/addons\", addonForm);\r\n\r\n      if (response.data.success) {\r\n        alert(\"Email addon created successfully\");\r\n        setAddonForm({\r\n          name: \"\",\r\n          type: \"policy\",\r\n          content: \"\",\r\n          auto_include: false,\r\n        });\r\n        loadAddons();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error creating addon:\", error);\r\n      alert(\"Failed to create addon\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"email-automation\">\r\n      <div className=\"page-header\">\r\n        <h1>üìß Email Automation</h1>\r\n        <p>\r\n          Streamline your recruitment communication with smart email templates\r\n          and bulk sending\r\n        </p>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"tab-navigation\">\r\n        <button\r\n          className={`tab-button ${activeTab === \"compose\" ? \"active\" : \"\"}`}\r\n          onClick={() => setActiveTab(\"compose\")}\r\n        >\r\n          ‚úâÔ∏è Compose Email\r\n        </button>\r\n        <button\r\n          className={`tab-button ${activeTab === \"templates\" ? \"active\" : \"\"}`}\r\n          onClick={() => setActiveTab(\"templates\")}\r\n        >\r\n          üìù Templates\r\n        </button>\r\n        <button\r\n          className={`tab-button ${activeTab === \"signatures\" ? \"active\" : \"\"}`}\r\n          onClick={() => setActiveTab(\"signatures\")}\r\n        >\r\n          ‚úçÔ∏è Signatures\r\n        </button>\r\n        <button\r\n          className={`tab-button ${activeTab === \"addons\" ? \"active\" : \"\"}`}\r\n          onClick={() => setActiveTab(\"addons\")}\r\n        >\r\n          üîß Add-ons\r\n        </button>\r\n        <button\r\n          className={`tab-button ${activeTab === \"history\" ? \"active\" : \"\"}`}\r\n          onClick={() => setActiveTab(\"history\")}\r\n        >\r\n          üìä History\r\n        </button>\r\n      </div>\r\n\r\n      {/* ‚úÖ FIXED: Compose Email Tab - Previously Missing */}\r\n      {activeTab === \"compose\" && (\r\n        <div className=\"tab-content\">\r\n          <div className=\"compose-section\">\r\n            <h3>üì§ Send Email</h3>\r\n\r\n            {/* Email Type Selection */}\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label>Email Type</label>\r\n                <select\r\n                  value={composeForm.type}\r\n                  onChange={(e) =>\r\n                    setComposeForm({ ...composeForm, type: e.target.value })\r\n                  }\r\n                >\r\n                  <option value=\"single\">Single Recipient</option>\r\n                  <option value=\"bulk\">Bulk Email</option>\r\n                  <option value=\"filtered\">Filtered Recipients</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Template *</label>\r\n                <select\r\n                  value={composeForm.template_id}\r\n                  onChange={(e) => {\r\n                    console.log(\"Template dropdown changed:\", e.target.value); // Debug log\r\n                    handleTemplateSelect(e.target.value);\r\n                  }}\r\n                  className={`form-control ${\r\n                    !composeForm.template_id ? \"placeholder-shown\" : \"\"\r\n                  }`}\r\n                >\r\n                  <option value=\"\">Select a template</option>\r\n                  {templates.map((template) => (\r\n                    <option key={template.id} value={template.id.toString()}>\r\n                      {template.name} ({template.category})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n\r\n                {templates.length === 0 && (\r\n                  <small className=\"text-muted\">\r\n                    No templates available. Create one in the Templates tab\r\n                    first.\r\n                  </small>\r\n                )}\r\n\r\n                {composeForm.template_id && (\r\n                  <small className=\"text-success\">\r\n                    Template selected:{\" \"}\r\n                    {\r\n                      templates.find(\r\n                        (t) => t.id.toString() === composeForm.template_id\r\n                      )?.name\r\n                    }\r\n                  </small>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Recipients */}\r\n            {composeForm.type === \"single\" && (\r\n              <div className=\"form-group\">\r\n                <label>Recipient Email *</label>\r\n                <input\r\n                  type=\"email\"\r\n                  placeholder=\"candidate@example.com\"\r\n                  value={composeForm.recipient_email}\r\n                  onChange={(e) =>\r\n                    setComposeForm({\r\n                      ...composeForm,\r\n                      recipient_email: e.target.value,\r\n                    })\r\n                  }\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            {composeForm.type === \"bulk\" && (\r\n              <div className=\"form-group\">\r\n                <label>Recipient Emails *</label>\r\n                <textarea\r\n                  placeholder=\"Enter emails separated by commas or new lines\"\r\n                  value={composeForm.recipient_emails}\r\n                  onChange={(e) =>\r\n                    setComposeForm({\r\n                      ...composeForm,\r\n                      recipient_emails: e.target.value,\r\n                    })\r\n                  }\r\n                  rows={4}\r\n                />\r\n                <small>\r\n                  Separate multiple emails with commas or line breaks\r\n                </small>\r\n              </div>\r\n            )}\r\n\r\n            {composeForm.template_id && (\r\n              <div className=\"template-preview-section\">\r\n                <h4>üìã Template Preview</h4>\r\n                <div className=\"preview-card\">\r\n                  <div className=\"preview-subject\">\r\n                    <strong>Subject:</strong> {composeForm.subject}\r\n                  </div>\r\n                  <div className=\"preview-variables\">\r\n                    <strong>Variables to fill:</strong>\r\n                    {Object.keys(composeForm.variables).length > 0 ? (\r\n                      <ul>\r\n                        {Object.keys(composeForm.variables).map((variable) => (\r\n                          <li key={variable}>\r\n                            {`{{${variable}}}`} -{\" \"}\r\n                            {composeForm.variables[variable] || \"Not filled\"}\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    ) : (\r\n                      <span className=\"text-muted\">\r\n                        No variables in this template\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Template Variables */}\r\n            {Object.keys(composeForm.variables).length > 0 && (\r\n              <div className=\"variables-section\">\r\n                <h4>üìù Template Variables</h4>\r\n                <div className=\"variables-grid\">\r\n                  {Object.keys(composeForm.variables).map((variable) => (\r\n                    <div key={variable} className=\"form-group\">\r\n                      <label>\r\n                        {variable\r\n                          .replace(/_/g, \" \")\r\n                          .replace(/\\b\\w/g, (l) => l.toUpperCase())}\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder={`Enter ${variable}`}\r\n                        value={composeForm.variables[variable]}\r\n                        onChange={(e) =>\r\n                          setComposeForm({\r\n                            ...composeForm,\r\n                            variables: {\r\n                              ...composeForm.variables,\r\n                              [variable]: e.target.value,\r\n                            },\r\n                          })\r\n                        }\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Scheduling */}\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={composeForm.send_immediately}\r\n                    onChange={(e) =>\r\n                      setComposeForm({\r\n                        ...composeForm,\r\n                        send_immediately: e.target.checked,\r\n                      })\r\n                    }\r\n                  />\r\n                  Send Immediately\r\n                </label>\r\n              </div>\r\n\r\n              {!composeForm.send_immediately && (\r\n                <div className=\"form-group\">\r\n                  <label>Schedule For</label>\r\n                  <input\r\n                    type=\"datetime-local\"\r\n                    value={composeForm.scheduled_at}\r\n                    onChange={(e) =>\r\n                      setComposeForm({\r\n                        ...composeForm,\r\n                        scheduled_at: e.target.value,\r\n                      })\r\n                    }\r\n                    min={new Date().toISOString().slice(0, 16)}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <button\r\n              className=\"btn-primary\"\r\n              onClick={handleSendEmail}\r\n              disabled={loading}\r\n            >\r\n              {loading\r\n                ? \"Sending...\"\r\n                : composeForm.type === \"single\"\r\n                ? \"üì§ Send Email\"\r\n                : \"üì§ Send Bulk Email\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Templates Tab */}\r\n      {activeTab === \"templates\" && (\r\n        <div className=\"tab-content\">\r\n          {/* Quick Start Templates */}\r\n          <div className=\"quick-start-section\">\r\n            <h3>üöÄ Quick Start Templates</h3>\r\n            <p>Use these pre-built templates to get started quickly:</p>\r\n            <div className=\"default-templates-grid\">\r\n              {getDefaultTemplates().map((template, index) => (\r\n                <div key={index} className=\"default-template-card\">\r\n                  <h4>{template.name}</h4>\r\n                  <span className=\"category-badge\">{template.category}</span>\r\n                  <p>{template.subject}</p>\r\n                  <button\r\n                    className=\"btn-small\"\r\n                    onClick={() => useDefaultTemplate(template.name)}\r\n                  >\r\n                    Use Template\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Template Creation Form */}\r\n          <div className=\"template-creation\">\r\n            <h3>üìù Create Custom Template</h3>\r\n\r\n            <div className=\"form-grid\">\r\n              <div className=\"form-group\">\r\n                <label>Template Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"e.g., Welcome Email\"\r\n                  value={templateForm.name}\r\n                  onChange={(e) =>\r\n                    setTemplateForm({ ...templateForm, name: e.target.value })\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Category</label>\r\n                <select\r\n                  value={templateForm.category}\r\n                  onChange={(e) =>\r\n                    setTemplateForm({\r\n                      ...templateForm,\r\n                      category: e.target.value,\r\n                    })\r\n                  }\r\n                >\r\n                  <option value=\"general\">General</option>\r\n                  <option value=\"onboarding\">Onboarding</option>\r\n                  <option value=\"offer_letter\">Offer Letter</option>\r\n                  <option value=\"interview\">Interview</option>\r\n                  <option value=\"rejection\">Rejection</option>\r\n                  <option value=\"follow_up\">Follow Up</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"form-group full-width\">\r\n                <label>Subject Line *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Welcome to {{company_name}} - {{candidate_name}}\"\r\n                  value={templateForm.subject}\r\n                  onChange={(e) =>\r\n                    setTemplateForm({\r\n                      ...templateForm,\r\n                      subject: e.target.value,\r\n                    })\r\n                  }\r\n                />\r\n                <small>Use {`{{variable_name}}`} for dynamic content</small>\r\n              </div>\r\n\r\n              <div className=\"form-group full-width\">\r\n                <label>Email Body (HTML) *</label>\r\n                <textarea\r\n                  placeholder=\"<h2>Welcome {{candidate_name}}!</h2><p>We're excited to have you join {{company_name}}...</p>\"\r\n                  value={templateForm.body_html}\r\n                  onChange={(e) =>\r\n                    setTemplateForm({\r\n                      ...templateForm,\r\n                      body_html: e.target.value,\r\n                    })\r\n                  }\r\n                  rows={10}\r\n                />\r\n                <small>\r\n                  HTML formatting supported. Use {`{{variable_name}}`} for\r\n                  personalization\r\n                </small>\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              className=\"btn-primary\"\r\n              onClick={handleCreateTemplate}\r\n              disabled={loading}\r\n            >\r\n              {loading ? \"Creating...\" : \"üìù Create Template\"}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Existing Templates */}\r\n          <div className=\"existing-templates\">\r\n            <h3>üìã Existing Templates</h3>\r\n            <div className=\"templates-grid\">\r\n              {templates.map((template) => (\r\n                <div key={template.id} className=\"template-card\">\r\n                  <div className=\"template-header\">\r\n                    <h4>{template.name}</h4>\r\n                    <span className={`category-badge ${template.category}`}>\r\n                      {template.category.replace(\"_\", \" \")}\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"template-subject\">{template.subject}</p>\r\n                  <div className=\"template-stats\">\r\n                    <span>Used {template.usage_count} times</span>\r\n                    {template.is_system_template && (\r\n                      <span className=\"system-badge\">System</span>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"template-actions\">\r\n                    <button className=\"btn-small\">Edit</button>\r\n                    <button className=\"btn-small\">Preview</button>\r\n                    <button className=\"btn-small\">Duplicate</button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ‚úÖ FIXED: Signatures Tab - Previously Missing */}\r\n      {activeTab === \"signatures\" && (\r\n        <div className=\"tab-content\">\r\n          <div className=\"signature-creation\">\r\n            <h3>‚úçÔ∏è Create Email Signature</h3>\r\n\r\n            <div className=\"form-grid\">\r\n              <div className=\"form-group\">\r\n                <label>Signature Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"e.g., HR Team Signature\"\r\n                  value={signatureForm.name}\r\n                  onChange={(e) =>\r\n                    setSignatureForm({ ...signatureForm, name: e.target.value })\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Company Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={signatureForm.company_name}\r\n                  onChange={(e) =>\r\n                    setSignatureForm({\r\n                      ...signatureForm,\r\n                      company_name: e.target.value,\r\n                    })\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Company Logo URL</label>\r\n                <input\r\n                  type=\"url\"\r\n                  placeholder=\"https://company.com/logo.png\"\r\n                  value={signatureForm.company_logo_url}\r\n                  onChange={(e) =>\r\n                    setSignatureForm({\r\n                      ...signatureForm,\r\n                      company_logo_url: e.target.value,\r\n                    })\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={signatureForm.is_default}\r\n                    onChange={(e) =>\r\n                      setSignatureForm({\r\n                        ...signatureForm,\r\n                        is_default: e.target.checked,\r\n                      })\r\n                    }\r\n                  />\r\n                  Set as Default Signature\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"form-group full-width\">\r\n                <label>Signature HTML *</label>\r\n                <textarea\r\n                  placeholder=\"<p>Best regards,<br><strong>HR Team</strong><br>NaviKenz<br>Email: hr@navikenz.com</p>\"\r\n                  value={signatureForm.html_content}\r\n                  onChange={(e) =>\r\n                    setSignatureForm({\r\n                      ...signatureForm,\r\n                      html_content: e.target.value,\r\n                    })\r\n                  }\r\n                  rows={6}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              className=\"btn-primary\"\r\n              onClick={handleCreateSignature}\r\n              disabled={loading}\r\n            >\r\n              {loading ? \"Creating...\" : \"‚úçÔ∏è Create Signature\"}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Existing Signatures */}\r\n          <div className=\"existing-signatures\">\r\n            <h3>üìù Existing Signatures</h3>\r\n            <div className=\"signatures-list\">\r\n              {signatures.map((signature) => (\r\n                <div key={signature.id} className=\"signature-card\">\r\n                  <div className=\"signature-info\">\r\n                    <h4>{signature.name}</h4>\r\n                    {signature.is_default && (\r\n                      <span className=\"default-badge\">Default</span>\r\n                    )}\r\n                  </div>\r\n                  <div\r\n                    className=\"signature-preview\"\r\n                    dangerouslySetInnerHTML={{ __html: signature.html_content }}\r\n                  />\r\n                  <div className=\"signature-actions\">\r\n                    <button className=\"btn-small\">Edit</button>\r\n                    <button className=\"btn-small\">Set Default</button>\r\n                    <button className=\"btn-small\">Delete</button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ‚úÖ FIXED: Add-ons Tab - Previously Missing */}\r\n      {activeTab === \"addons\" && (\r\n        <div className=\"tab-content\">\r\n          <div className=\"addon-creation\">\r\n            <h3>üîß Create Email Add-on</h3>\r\n\r\n            <div className=\"form-grid\">\r\n              <div className=\"form-group\">\r\n                <label>Add-on Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"e.g., Company Policy\"\r\n                  value={addonForm.name}\r\n                  onChange={(e) =>\r\n                    setAddonForm({ ...addonForm, name: e.target.value })\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Type</label>\r\n                <select\r\n                  value={addonForm.type}\r\n                  onChange={(e) =>\r\n                    setAddonForm({ ...addonForm, type: e.target.value })\r\n                  }\r\n                >\r\n                  <option value=\"policy\">Company Policy</option>\r\n                  <option value=\"terms\">Terms & Conditions</option>\r\n                  <option value=\"disclaimer\">Disclaimer</option>\r\n                  <option value=\"social_links\">Social Links</option>\r\n                  <option value=\"contact_info\">Contact Information</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={addonForm.auto_include}\r\n                    onChange={(e) =>\r\n                      setAddonForm({\r\n                        ...addonForm,\r\n                        auto_include: e.target.checked,\r\n                      })\r\n                    }\r\n                  />\r\n                  Auto-include in all emails\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"form-group full-width\">\r\n                <label>Content *</label>\r\n                <textarea\r\n                  placeholder=\"This email is confidential and intended only for the recipient...\"\r\n                  value={addonForm.content}\r\n                  onChange={(e) =>\r\n                    setAddonForm({ ...addonForm, content: e.target.value })\r\n                  }\r\n                  rows={6}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              className=\"btn-primary\"\r\n              onClick={handleCreateAddon}\r\n              disabled={loading}\r\n            >\r\n              {loading ? \"Creating...\" : \"üîß Create Add-on\"}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Existing Add-ons */}\r\n          <div className=\"existing-addons\">\r\n            <h3>üîß Existing Add-ons</h3>\r\n            <div className=\"addons-list\">\r\n              {addons.map((addon) => (\r\n                <div key={addon.id} className=\"addon-card\">\r\n                  <div className=\"addon-header\">\r\n                    <h4>{addon.name}</h4>\r\n                    <span className={`type-badge ${addon.type}`}>\r\n                      {addon.type.replace(\"_\", \" \")}\r\n                    </span>\r\n                    {addon.auto_include && (\r\n                      <span className=\"auto-badge\">Auto-include</span>\r\n                    )}\r\n                  </div>\r\n                  <p className=\"addon-content\">\r\n                    {addon.content.substring(0, 100)}...\r\n                  </p>\r\n                  <div className=\"addon-actions\">\r\n                    <button className=\"btn-small\">Edit</button>\r\n                    <button className=\"btn-small\">Toggle Auto</button>\r\n                    <button className=\"btn-small\">Delete</button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ‚úÖ FIXED: History Tab - Previously Missing */}\r\n      {activeTab === \"history\" && (\r\n        <div className=\"tab-content\">\r\n          <div className=\"email-history\">\r\n            <h3>üìä Email Campaign History</h3>\r\n            <div className=\"history-stats\">\r\n              <div className=\"stat-card\">\r\n                <h4>Total Campaigns</h4>\r\n                <span className=\"stat-number\">24</span>\r\n              </div>\r\n              <div className=\"stat-card\">\r\n                <h4>Emails Sent</h4>\r\n                <span className=\"stat-number\">1,247</span>\r\n              </div>\r\n              <div className=\"stat-card\">\r\n                <h4>Success Rate</h4>\r\n                <span className=\"stat-number\">98.5%</span>\r\n              </div>\r\n              <div className=\"stat-card\">\r\n                <h4>Open Rate</h4>\r\n                <span className=\"stat-number\">67.2%</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"history-table\">\r\n              <table>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Campaign</th>\r\n                    <th>Template</th>\r\n                    <th>Recipients</th>\r\n                    <th>Sent</th>\r\n                    <th>Failed</th>\r\n                    <th>Date</th>\r\n                    <th>Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>Welcome Campaign</td>\r\n                    <td>Onboarding Welcome</td>\r\n                    <td>45</td>\r\n                    <td>44</td>\r\n                    <td>1</td>\r\n                    <td>2025-06-15</td>\r\n                    <td>\r\n                      <button className=\"btn-small\">View</button>\r\n                      <button className=\"btn-small\">Resend</button>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Interview Invitations</td>\r\n                    <td>Interview Invitation</td>\r\n                    <td>12</td>\r\n                    <td>12</td>\r\n                    <td>0</td>\r\n                    <td>2025-06-14</td>\r\n                    <td>\r\n                      <button className=\"btn-small\">View</button>\r\n                      <button className=\"btn-small\">Resend</button>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Offer Letters</td>\r\n                    <td>Offer Letter</td>\r\n                    <td>3</td>\r\n                    <td>3</td>\r\n                    <td>0</td>\r\n                    <td>2025-06-13</td>\r\n                    <td>\r\n                      <button className=\"btn-small\">View</button>\r\n                      <button className=\"btn-small\">Resend</button>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Enhanced CSS Styles */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmailAutomation;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}